<div class="grid">
  <nb-card class="main-card">
    <nb-card-header>
      <h4>
        {{ (product$ | async)?.name }}
      </h4>
    </nb-card-header>
    <nb-card-body class="body">
      <img src="/assets/placeholder-800x600.png">
      <p>{{ (product$ | async)?.description }}</p>
    </nb-card-body>
  </nb-card>
  <nb-card class="comments-card">
    <nb-card-header>
      <h5>Megjegyzések</h5>
    </nb-card-header>
    <nb-card-body>
      <textarea [(ngModel)]="commentText" nbInput fullWidth placeholder="Megjegyzés írása..."></textarea>
      <div class="send-container">
        <button nbButton status="primary" hero (click)="sendComment()">
          <nb-icon icon="paper-plane-outline"></nb-icon>
          Küldés
        </button>
      </div>
    </nb-card-body>
    <nb-card-footer>
      <div *ngIf="!(product$ | async)?.comments" class="empty-list-container">
        <h6>Még nem érkezett megjegyzés a termékhez.</h6>
      </div>
      <nb-list>
        <nb-list-item *ngFor="let comment of (product$ | async)?.comments">
          <div>
            <nb-user [name]="comment.userName"></nb-user>
            <p>{{ comment.text }}</p>
          </div>
        </nb-list-item>
      </nb-list>
    </nb-card-footer>
  </nb-card>
  <nb-card class="properties-card">
    <nb-card-header>
      <h5>Tulajdonságok</h5>
    </nb-card-header>
    <nb-card-body>
      <nb-list>
        <nb-list-item *ngFor="let property of (product$ | async)?.propertyValues">
          <div class="property-container">
            <strong>{{ property.name }}</strong>
            <span>{{ property.value }}</span>
          </div>
        </nb-list-item>
      </nb-list>
    </nb-card-body>
  </nb-card>
</div>
